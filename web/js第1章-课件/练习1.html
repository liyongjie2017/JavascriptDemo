<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>01 -1</title>
	<style>
		#box{
			width: 520px;
			margin: 30px auto;
			text-align: center;
			position: relative;
		}
		.imgWrap{
			position: relative;
		}
		#num,#text{
			width: 100%;
			height: 30px;
			background-color: rgba(0,0,0,.6);
			color: #fff;
			position: absolute;
			font: 14px/30px '微软雅黑';
		}
		#num{
			top:0;
		}
		#text{
			bottom: 0;
		}
		.btn{
			width: 30px;
			height: 40px;
			background-color: rgba(0,0,0,.7);
			position: absolute;
			top:50%;
			color:#fff;
			font: 36px/40px '微软雅黑';
			margin-top: 20px;
			cursor: pointer;
		}
		.prev{
			left: 10px;
		}
		.next{
			right: 10px;
		}
	</style>
</head>
<body>
	<div id="box">
		<button id="loop">循环切换</button>
		<button id="order">顺序切换</button>
		<p id="modelText">图片可以从最后一张跳到第一张切换</p>
		<div class="imgWrap">
			<div id="num">1/5</div>
			<img src="images/1.jpg" id="pic" height="280" width="520" alt="">
			<div id="text">明前茶上市</div>
		</div> 
		<div class="prev btn" id="prev">&lt;</div>
		<div class="next btn" id="next">&gt;</div>
	</div>
<script>
    var next = document.getElementById("next");
    var pic = document.getElementById("pic");
    var num = document.getElementById("num");
    var text = document.getElementById("text");
    var loop = document.getElementById("loop");
    var order = document.getElementById("order");
    var modelText = document.getElementById("modelText");
    // n             0   1
    var imgArr = ["1","2","3","4","5"];
    var textArr = ["明前茶上市","小s女儿同款","吃货福利一卡通","春夏新品","品牌团真材实木"];
    var n = 0;
    var on = true; //定义一个变量，做为记录模式的开关 约定on为1时 表示循环模式开启 
     //顺序切换
    order.onclick = function(){
    	on = false;
    	modelText.innerHTML = "图片只能到第一张或者最后一张切换";
    	 console.log(on);
    }
    loop.onclick = function(){
    	on = true;
    }
    console.log(on);
    next.onclick = function(){
    	
    	/*
    		当点击下一张的时候
    		 1.n++
    		 2.改图片
    		 3.改数字 n+1 
    		 4.改文字
    	*/
    	n++;
    	if(n == imgArr.length){

    		//当点击到最后一张图片的时候，我们要判断现在是顺序还是循环
    		//当on == false说明顺序模式开启 要给提示
    		if(on == false){
    			alert("已经是最后了");
    			n = imgArr.length - 1;
    		}else{ //如果顺序模式没有开启 就重置为0 从第一张开始
    			n = 0;
    		}
    		
    	}
    	//2.改图片
    	pic.src = "images/"+imgArr[n]+".jpg";
    	// 3.改数字
    	num.innerHTML = (n+1)+"/"+imgArr.length;
    	//4.改文字
    	text.innerHTML = textArr[n];
    }

</script>
</body>
</html>