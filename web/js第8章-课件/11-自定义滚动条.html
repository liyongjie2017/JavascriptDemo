<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			#div1{
				width: 20px;
				height: 500px;
				background: #333;
				position: relative;
			}
			#div2{
				width: 100%;
				height: 20px;
				background: greenyellow;
				position: absolute;
				top: 0;
			}
		</style>
		<script>
			/*
			 * 拖拽与放大镜的原理--自定义滚动条的原理
			 */
			
			window.onload=function(){
				var div1=document.getElementById("div1");
				var div2=document.getElementById("div2");
				
				div2.onmousedown=function(ev){
					var disY=ev.clientY-div2.offsetTop;
					
					document.onmousemove=function(ev){
						var t=ev.clientY-disY;
						
						if(t<0){
							t=0;
						}else if(t>div1.clientHeight-div2.clientHeight){
							t=div1.clientHeight-div2.clientHeight
						}
						
						div2.style.top=t+'px';
					}
					document.onmouseup=function(){
						document.onmousemove=null;
					};
					
					return false;
				};
			};
		</script>
	</head>
	<body>
		<div id="div1">
			<div id="div2"></div>
		</div>
	</body>
</html>
