<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<style>
		ul{
			width: 400px;
			margin:200px auto;
			font-size: 50px;
			list-style: none;
		}
		button{
			font-size: 40px;
			vertical-align: top;
		}
		li{
			position: relative;
			top: 0;
		}
	</style>
	<script src="move.js"></script>
</head>
<body>
	<ul id="list">
		<li>1111<button>上移</button><button>下移</button></li>
		<li>2222<button>上移</button><button>下移</button></li>
		<li>3333<button>上移</button><button>下移</button></li>
		<li>4444<button>上移</button><button>下移</button></li>
	</ul>
	<script>
		var lis=document.querySelectorAll("li");
		var btns=document.querySelectorAll("button");
		var list=document.getElementById("list");
		var h=lis[0].offsetHeight;
		for(var i=0;i<lis.length;i++){
			var up=lis[i].children[0];
			var down=lis[i].children[1];
			//上移
			up.onclick=function(){
				var cur=this.parentNode;
				var pre=cur.previousElementSibling;
				if(!pre){
					alert('走不动了');
					return;
				}
				move(cur,{top:-h},200,"linear",end);
				move(pre,{top:h},200,'linear',end);
				function end(){
					list.insertBefore(cur,pre);
					cur.style.top=0;
					pre.style.top=0;
				}
			}
			//下移
			down.onclick=function(){
				var cur=this.parentNode;
				var next=cur.nextElementSibling;
				if(!next){
					alert('走不动了');
					return;
				}
				move(cur,{top:h},200,"linear",end);
				move(next,{top:-h},200,"linear",end);
				function end(){
					list.insertBefore(next,cur);
					cur.style.top=0;
					next.style.top=0;
				}
			}
		}
	</script>	
</body>
</html>